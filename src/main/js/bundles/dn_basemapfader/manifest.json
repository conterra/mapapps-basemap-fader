{
  "Bundle-SymbolicName": "dn_basemapfader",
  "Bundle-Version": "1.0.1-SNAPSHOT",
  "Bundle-Name": "${bundleName}",
  "Bundle-Description": "${bundleDescription}",
  "Bundle-Vendor": "con terra GmbH",
  "Bundle-Icon": {},
  "Bundle-License": {},
  "Product-Name": "devnet-mapapps-basemap-fader",
  "Require-Bundle": [
    {
      "name": "map",
      "version": "3.x"
    }
  ],
  "CSS-Themes-Extension": [
    {
      "name": "*",
      "files": [
        "./styles/styles.css"
      ]
    }
  ],
  "layout-widgets": [
    {
      "widgetRole": "basemapFader",
      "window": {
        "title": "${window.title}",
        "dockTool": "basemapFaderTool",
        "marginBox": {
          "w": 350,
          "h": 125
        },
        "windowClass": "ctToolPopup",
        "hideOnClose": true
      }
    }
  ],
  "Components": [
    {
      "name": "BasemapFaderFactory",
      "provides": [
        "dijit.Widget",
        "dn_basemapFader.BasemapFader"
      ],
      "instanceFactory": true,
      "properties": {
        "widgetRole": "basemapFader",
        "initialFadeToBaseMapId": null,
        // if set true, changing the basemaptoggler will set this basemap in the basemap selectbox of the widget
        "applyBaseMapTogglerChange": true,
        // if set false, only the overlayed layer is changed in its transparency
        "setTransparencyForBothLayers": true
      },
      "references": [
        {
          "name": "_mapModel",
          "providing": "ct.mapping.map.MapModel"
        },
        {
          "name": "_basemapModel",
          "providing": "basemaptoggler.BasemapModel",
          "cardinality": "0..n",
          "connect": {
            "onBasemapSelectionChanged": "handleBaseLayerSelectionChanged"
          }
        }
      ]
    },
    {
      "name": "BasemapFaderTool",
      "impl": "ct/tools/Tool",
      "provides": [
        "ct.tools.Tool"
      ],
      "propertiesConstructor": true,
      "properties": {
        "toolRole": "toolset",
        "id": "basemapFaderTool",
        "title": "${tool.title}",
        "iconClass": "icon-layer",
        "togglable": true,
        "priority": 1,
        "activateHandler": "activateBasemapFader",
        "deactivateHandler": "deactivateBasemapFader",
        "rules": {
          "noGroup": true
        }
      },
      "references": [
        {
          "name": "handlerScope",
          "providing": "dn_basemapFader.BasemapFader"
        }
      ]
    }
  ]
}